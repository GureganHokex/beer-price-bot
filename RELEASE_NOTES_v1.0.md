# Release v1.0 - Первая стабильная версия

## Основной функционал

### Анализ прайс-листов
- **ML-классификатор колонок** с автоматическим обучением
- Автоматический поиск заголовков в Excel
- Обработка всех листов в файле
- Поддержка форматов: .xlsx, .xls

### Распознавание данных
- Название напитка
- Пивоварня
- Стиль
- Объем (все типы тары)
- Цена (за штуку, за литр)
- Остатки (числовые и текстовые)

### Типы тары
- Кеги металлические (20, 30, 50 л)
- ПЭТ-кеги (20, 30 л)
- Банки (0.33, 0.45 л)
- Бутылки (0.33, 0.5, 0.75 л)

### Фильтрация
- **Банки и бутылки**: остаток >= 10 штук
- **Кеги**: показываются всегда (даже 1 штука)
- Автоматическое игнорирование служебных записей
- Удаление дубликатов

### Формирование заказов
- Выбор по типу тары (кеги/банки/бутылки)
- Выбор по пивоварням
- Ввод количества в формате номер:количество
- Проверка доступных остатков (автоматическая корректировка)
- Группировка позиций по таре в заказе
- Фильтрация заказа по типу тары
- Экспорт заказа в .txt файл

### База данных
- SQLite с SQLAlchemy 2.0
- Модели: User, Project, Upload, BeerItem, Order, OrderItem
- Асинхронные CRUD операции
- Каскадное удаление

### Интерфейс
- Меню команд в левой панели Telegram
- Управление несколькими проектами
- Кнопки без эмодзи (строгий стиль)
- Подтверждение удаления данных
- Навигация на всех экранах

## Команды бота

- `/start` - Главное меню
- `/newproject` - Создать новый проект
- `/projects` - Мои проекты
- `/help` - Справка

## Технологии

- **Python**: 3.13
- **Telegram**: aiogram 3.16
- **Database**: SQLAlchemy 2.0 + aiosqlite
- **ML**: scikit-learn (TfidfVectorizer + MultinomialNB)
- **Excel**: pandas 2.2.3 + openpyxl 3.1.5

## Безопасность

- `.gitignore` для защиты конфиденциальных данных
- Токены не попадают в репозиторий
- База данных исключена из Git
- Файлы пользователей защищены
- Документация по безопасности (SECURITY.md)

## Тестирование

- 13 unit-тестов (pytest)
- Тестовые данные для проверки парсинга
- Покрытие основных функций

## Установка

```bash
# Клонировать репозиторий
git clone https://github.com/GureganHokex/beer-price-bot.git
cd beer-price-bot

# Создать виртуальное окружение
python3 -m venv venv
source venv/bin/activate

# Установить зависимости
pip install -r requirements.txt

# Настроить .env
cp .env.example .env
# Добавить TELEGRAM_BOT_TOKEN

# Обучить ML-модель
PYTHONPATH=. python -m ml.train_detector

# Запустить бота
python run_bot.py
```

## Поддерживаемые поставщики

Протестировано на прайс-листах:
- **Beeribo**: 182 позиции
- **CBD**: 453 позиции  
- **Paradox**: 102 позиции

Всего: 737 позиций, 30+ пивоварен

## Что дальше

Планы на v1.1:
- История заказов
- Экспорт в Excel
- Статистика по поставщикам
- Уведомления об изменении цен

