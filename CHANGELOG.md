# История изменений

## Последние обновления

### Интерфейс и удобство

**Новые кнопки:**
- Главное меню - быстрый доступ к основным функциям
- Помощь - подробная инструкция по использованию
- Очистить данные - удалить результаты анализа (файлы сохраняются)
- Удалить проект - полное удаление проекта с подтверждением
- Навигация - кнопки возврата на всех экранах

**Улучшения:**
- Иконки для всех кнопок (визуальная навигация)
- Подтверждение удаления (защита от случайных действий)
- Кнопка "Главное меню" доступна везде
- Улучшенная структура меню (2 колонки)

### Парсинг и фильтрация

**Остатки:**
- Поддержка числовых остатков (1, 2, 10, 30 шт)
- Поддержка текстовых остатков ("много", "мало", "достаточно")
- Отображение остатков в выходном файле

**Фильтрация:**
- Кеги: показываются всегда (даже 1 штука)
- Банки/бутылки: только при остатке >= 10 штук
- Автоматическое определение типа тары

**Распознавание:**
- ПЭТ-кеги (20л, 30л)
- Жестяные банки (ж/б)
- Числовой литраж (автоопределение кег)
- Цена за литр и за штуку

### Безопасность

**Конфиденциальность:**
- `.gitignore` для защиты данных
- Исключение токенов и БД из Git
- Исключение пользовательских файлов
- Документация по безопасности

**Файлы защиты:**
- `.env` - токены
- `*.db` - база данных
- `data/projects/` - файлы пользователей
- `*.log` - логи

### Документация

**Новые файлы:**
- `README.md` - основная документация
- `SECURITY.md` - безопасность и конфиденциальность
- `CHANGELOG.md` - история изменений

## Технические улучшения

### База данных
- Функция удаления проекта
- Функция очистки данных с возвратом количества
- Каскадное удаление связанных данных

### ML-модель
- Улучшенная классификация колонок
- Игнорирование технических колонок (ABV, OG, IBU)
- Распознавание колонки "Наличие"
- Приоритет ключевых слов над ML

### Обработчики
- Роутер menu.py для навигации
- Обработчики подтверждения действий
- Улучшенная обработка ошибок
- Кнопка помощи с инструкциями

## Статистика

**Поддерживаемые файлы:**
- Beeribo: 182 позиции (79 кег, 88 банок, 15 бутылок)
- CBD: 453 позиции (106 кег, 385 банок, 25 бутылок)
- Paradox: 102 позиции

**Точность:**
- Распознавание колонок: 95%+
- Извлечение объемов: 98%+
- Классификация тары: 100%

